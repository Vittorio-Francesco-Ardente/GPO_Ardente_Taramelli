<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="it">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Progetto_Ardente_Taramelli: ğŸ§¾ Funzione &lt;tt&gt;MostraScontrino_Click&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Progetto_Ardente_Taramelli<span id="projectnumber">&#160;1.1</span>
   </div>
   <div id="projectbrief">Progetto realizzato da Vittorio Francesco Ardente e Nicholas Taramelli!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generato da Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Cerca');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a00108.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Caricamento in corso...</div>
<div class="SRStatus" id="Searching">Ricerca in corso...</div>
<div class="SRStatus" id="NoMatches">Nessun risultato</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ğŸ§¾ Funzione &lt;tt&gt;MostraScontrino_Click&lt;/tt&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
ğŸ“‹ Informazioni Generali</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Campo   </th><th class="markdownTableHeadNone">Valore    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ğŸ“ File</b>   </td><td class="markdownTableBodyNone"><code>MostraScontrino_Function.txt</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>ğŸ‘¥ Autori</b>   </td><td class="markdownTableBodyNone">Ardente, Taramelli    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ğŸ“ Classe</b>   </td><td class="markdownTableBodyNone">5^Ci    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>ğŸ“… Anno Scolastico</b>   </td><td class="markdownTableBodyNone">2025/26    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ğŸ”¢ Versione</b>   </td><td class="markdownTableBodyNone">1.1   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
ğŸ¯ Descrizione Generale</h1>
<p>Questa funzione <b>calcola il totale dell'ordine corrente</b> e genera uno <b>scontrino fiscale formattato</b> che viene visualizzato a video tramite una MessageBox.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
ğŸ“ Contenuto dello scontrino</h2>
<p>Lo scontrino include:</p><ul>
<li>ğŸª <b>Intestazione</b> con nome pizzeria (Ardente-Taramelli)</li>
<li>ğŸ“… <b>Data e ora</b> corrente</li>
<li>ğŸ”¢ <b>Numero progressivo</b> dell'ordine</li>
<li>ğŸ• <b>Dettaglio delle pizze</b> raggruppate per tipo con quantitÃ </li>
<li>ğŸ’¶ <b>Prezzo unitario</b> e subtotale per ogni tipo di pizza</li>
<li>ğŸ’° <b>Totale complessivo</b> dell'ordine</li>
<li>ğŸ˜Š <b>Messaggio di ringraziamento</b></li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md6"></a>
ğŸ’¡ A Cosa Serve</h1>
<p>La funzione Ã¨ fondamentale per:</p>
<ol type="1">
<li>ğŸ‘ï¸ <b>Permettere al cliente</b> di visualizzare il conto prima del pagamento</li>
<li>ğŸ“Š <b>Fornire un riepilogo dettagliato</b> dell'ordine</li>
<li>ğŸ§® <b>Calcolare automaticamente</b> il totale basandosi sul listino prezzi</li>
<li>ğŸ“¦ <b>Raggruppare pizze uguali</b> per una lettura piÃ¹ chiara</li>
<li>ğŸ†” <b>Generare un documento fiscale</b> con ID univoco per tracciabilitÃ </li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md8"></a>
âš™ï¸ Come Funziona</h1>
<div class="fragment"><div class="line">graph TD</div>
<div class="line">    A[ğŸ‘¤ Utente clicca Conto] --&gt; B{ğŸ• Ci sono pizze?}</div>
<div class="line">    B --&gt;|âŒ No| C[âš ï¸ Messaggio: Ordine vuoto]</div>
<div class="line">    B --&gt;|âœ… SÃ¬| D{ğŸ’¶ Listino disponibile?}</div>
<div class="line">    D --&gt;|âŒ No| E[âš ï¸ Errore configurazione]</div>
<div class="line">    D --&gt;|âœ… SÃ¬| F[ğŸ“Š Raggruppa pizze LINQ]</div>
<div class="line">    F --&gt; G[ğŸ’° Calcola subtotali]</div>
<div class="line">    G --&gt; H[â• Somma totale]</div>
<div class="line">    H --&gt; I[ğŸ¨ Formatta scontrino ASCII]</div>
<div class="line">    I --&gt; J[ğŸ“± Mostra MessageBox]</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
ğŸ”„ Flusso operativo</h2>
<ol type="1">
<li>âœ… Verifica che ci siano pizze nell'ordine</li>
<li>ğŸ” Verifica che il listino prezzi sia disponibile</li>
<li>ğŸ“Š Raggruppa le pizze per tipo usando LINQ</li>
<li>ğŸ’° Per ogni gruppo calcola: <code>quantitÃ  Ã— prezzo unitario = subtotale</code></li>
<li>â• Somma tutti i subtotali per ottenere il totale</li>
<li>ğŸ¨ Formatta lo scontrino con caratteri ASCII art</li>
<li>ğŸ“± Visualizza lo scontrino in una MessageBox</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md11"></a>
ğŸ›¡ï¸ Controlli Eseguiti</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">#   </th><th class="markdownTableHeadNone">Controllo   </th><th class="markdownTableHeadNone">Descrizione    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">âœ… 1   </td><td class="markdownTableBodyNone"><b>Inizializzazione</b>   </td><td class="markdownTableBodyNone">Verifica inizializzazione controllo <code>Ordini_Lista</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">âœ… 2   </td><td class="markdownTableBodyNone"><b>Ordine vuoto</b>   </td><td class="markdownTableBodyNone">Verifica presenza almeno una pizza nell'ordine    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">âœ… 3   </td><td class="markdownTableBodyNone"><b>Listino prezzi</b>   </td><td class="markdownTableBodyNone">Verifica disponibilitÃ  listino prezzi    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">âœ… 4   </td><td class="markdownTableBodyNone"><b>Elementi validi</b>   </td><td class="markdownTableBodyNone">Filtraggio elementi nulli o vuoti dalla lista    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">âœ… 5   </td><td class="markdownTableBodyNone"><b>Prezzi mancanti</b>   </td><td class="markdownTableBodyNone">Gestione prezzi mancanti (usa prezzo default â‚¬ 6,00)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">âœ… 6   </td><td class="markdownTableBodyNone"><b>Eccezioni</b>   </td><td class="markdownTableBodyNone">Gestione eccezioni durante l'elaborazione   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md13"></a>
ğŸ”Œ Collegamento al Form</h1>
<h2><a class="anchor" id="autotoc_md14"></a>
Metodo 1: Nel costruttore</h2>
<div class="fragment"><div class="line"><span class="comment">// Nel costruttore Form1()</span></div>
<div class="line">this.Conto_Button.Click += <span class="keyword">new</span> System.EventHandler(this.MostraScontrino_Click);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Metodo 2: Direttamente nel codice</h2>
<div class="fragment"><div class="line">Conto_Button.Click += MostraScontrino_Click;</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md17"></a>
ğŸ§ª Test di Sistema Correlati</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Test   </th><th class="markdownTableHeadNone">Descrizione    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>TEST 13</b>   </td><td class="markdownTableBodyNone">âŒ Scontrino Ordine Vuoto    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>TEST 14</b>   </td><td class="markdownTableBodyNone">âœ… Scontrino Con Ordine Valido    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>TEST 15</b>   </td><td class="markdownTableBodyNone">âš ï¸ Scontrino Prezzi Non Configurati    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>TEST 16</b>   </td><td class="markdownTableBodyNone">ğŸ“Š Scontrino Raggruppamento Pizze    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>TEST 17</b>   </td><td class="markdownTableBodyNone">ğŸ’° Scontrino Calcolo Totale    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>TEST 18</b>   </td><td class="markdownTableBodyNone">ğŸ†” Scontrino ID Ordine    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>TEST 25</b>   </td><td class="markdownTableBodyNone">ğŸ”’ Scontrino Tavolo Occupato   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md19"></a>
ğŸ§° Metodi per Test Automatizzati</h1>
<h2><a class="anchor" id="autotoc_md20"></a>
&lt;tt&gt;GeneraScontrinoPerTest()&lt;/tt&gt;</h2>
<div class="fragment"><div class="line"><span class="keyword">public</span> (<span class="keywordtype">bool</span> success, decimal totale, <span class="keywordtype">string</span> dettaglio) GeneraScontrinoPerTest()</div>
</div><!-- fragment --><p><b>Descrizione:</b></p><ul>
<li>ğŸ§ª Genera lo scontrino senza visualizzazione grafica</li>
<li>ğŸ¯ Utile per Unit Test</li>
<li>ğŸš« Non mostra MessageBox</li>
</ul>
<p><b>Ritorna una tupla con:</b></p><ul>
<li><code>success</code> (bool): <code>true</code> se la generazione Ã¨ riuscita</li>
<li><code>totale</code> (decimal): Importo totale calcolato</li>
<li><code>dettaglio</code> (string): Stringa con il dettaglio dello scontrino</li>
</ul>
<p><b>Esempio di utilizzo:</b> </p><div class="fragment"><div class="line">var (success, totale, dettaglio) = GeneraScontrinoPerTest();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (success)</div>
<div class="line">{</div>
<div class="line">    Console.WriteLine($<span class="stringliteral">&quot;Totale: â‚¬{totale:F2}&quot;</span>);</div>
<div class="line">    Console.WriteLine(dettaglio);</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md22"></a>
ğŸ’» Codice Sorgente</h1>
<div class="fragment"><div class="line"><span class="keyword">private</span> <span class="keywordtype">void</span> MostraScontrino_Click(<span class="keywordtype">object</span> sender, EventArgs e)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// CONTROLLO 1: Verifica inizializzazione</span></div>
<div class="line">    <span class="keywordflow">if</span> (Ordini_Lista == <span class="keyword">null</span>)</div>
<div class="line">    {</div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            <span class="stringliteral">&quot;âš ï¸ Errore di inizializzazione del controllo ordini.\n\n&quot;</span> +</div>
<div class="line">            <span class="stringliteral">&quot;ğŸ”„ Riavviare l&#39;applicazione.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;âŒ Errore Sistema&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Error</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// CONTROLLO 2: Verifica ordine non vuoto</span></div>
<div class="line">    <span class="keywordflow">if</span> (Ordini_Lista.Items.Count == 0)</div>
<div class="line">    {</div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            <span class="stringliteral">&quot;ğŸ“‹ Nessun ordine presente per calcolare il conto.\n\n&quot;</span> +</div>
<div class="line">            <span class="stringliteral">&quot;ğŸ• Aggiungi almeno una pizza all&#39;ordine prima di richiedere lo scontrino.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;âš ï¸ Ordine Vuoto&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Warning</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// CONTROLLO 3: Verifica listino prezzi</span></div>
<div class="line">    <span class="keywordflow">if</span> (listinoPrezzi == <span class="keyword">null</span> || listinoPrezzi.Count == 0)</div>
<div class="line">    {</div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            <span class="stringliteral">&quot;âš ï¸ Errore: Listino prezzi non disponibile.\n\n&quot;</span> +</div>
<div class="line">            <span class="stringliteral">&quot;ğŸ“ Contattare l&#39;amministratore del sistema.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;âŒ Errore Configurazione&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Error</div>
<div class="line">        );</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        decimal totale = 0m;</div>
<div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// INTESTAZIONE SCONTRINO</span></div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘    ğŸ• PIZZERIA ARDENTE-TARAMELLI ğŸ•    â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘           5^Ci - 2025/26              â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£&quot;</span>);</div>
<div class="line">        sb.AppendLine($<span class="stringliteral">&quot;â•‘  ğŸ“… Data: {DateTime.Now:dd/MM/yyyy}                   â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine($<span class="stringliteral">&quot;â•‘  ğŸ• Ora:  {DateTime.Now:HH:mm:ss}                      â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine($<span class="stringliteral">&quot;â•‘  ğŸ”¢ Ordine N.: {idOrdineProgressivo.ToString().PadLeft(4, &#39;0&#39;)}                 â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘  QTÃ€   DESCRIZIONE          IMPORTO  â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// CONTROLLO 4: Filtra elementi validi</span></div>
<div class="line">        var listaPizze = Ordini_Lista.Items</div>
<div class="line">            .Cast&lt;<span class="keywordtype">object</span>&gt;()</div>
<div class="line">            .Where(item =&gt; item != <span class="keyword">null</span>)</div>
<div class="line">            .Select(item =&gt; item.ToString())</div>
<div class="line">            .Where(s =&gt; !<span class="keywordtype">string</span>.IsNullOrWhiteSpace(s));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!listaPizze.Any())</div>
<div class="line">        {</div>
<div class="line">            MessageBox.Show(</div>
<div class="line">                <span class="stringliteral">&quot;âš ï¸ L&#39;ordine contiene solo elementi non validi.\n\n&quot;</span> +</div>
<div class="line">                <span class="stringliteral">&quot;ğŸ—‘ï¸ Svuota l&#39;ordine e riprova.&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;âŒ Ordine Non Valido&quot;</span>,</div>
<div class="line">                MessageBoxButtons.OK,</div>
<div class="line">                MessageBoxIcon.Warning</div>
<div class="line">            );</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Raggruppa pizze per tipo</span></div>
<div class="line">        var pizzeRaggruppate = listaPizze.GroupBy(p =&gt; p);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ELABORAZIONE RIGHE SCONTRINO</span></div>
<div class="line">        <span class="keywordflow">foreach</span> (var gruppo <span class="keywordflow">in</span> pizzeRaggruppate)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">string</span> nomePizza = gruppo.Key;</div>
<div class="line">            <span class="keywordtype">int</span> quantita = gruppo.Count();</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// CONTROLLO 5: Gestione prezzo mancante</span></div>
<div class="line">            decimal prezzoUnitario;</div>
<div class="line">            <span class="keywordflow">if</span> (listinoPrezzi.ContainsKey(nomePizza))</div>
<div class="line">            {</div>
<div class="line">                prezzoUnitario = listinoPrezzi[nomePizza];</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Prezzo predefinito per pizze non configurate</span></div>
<div class="line">                prezzoUnitario = 6.00m;</div>
<div class="line"> </div>
<div class="line">                System.Diagnostics.Debug.WriteLine(</div>
<div class="line">                    $<span class="stringliteral">&quot;[WARNING] Prezzo non trovato per &#39;{nomePizza}&#39;. Applicato prezzo default: â‚¬ 6,00&quot;</span></div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Calcolo subtotale riga</span></div>
<div class="line">            decimal subtotaleRiga = prezzoUnitario * quantita;</div>
<div class="line">            totale += subtotaleRiga;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// Formattazione riga scontrino</span></div>
<div class="line">            <span class="keywordtype">string</span> rigaFormattata = $<span class="stringliteral">&quot;â•‘  {quantita}x   {nomePizza.PadRight(18)} â‚¬ {subtotaleRiga,7:F2} â•‘&quot;</span>;</div>
<div class="line">            sb.AppendLine(rigaFormattata);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// FOOTER SCONTRINO CON TOTALE</span></div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£&quot;</span>);</div>
<div class="line">        sb.AppendLine($<span class="stringliteral">&quot;â•‘  ğŸ’° TOTALE ORDINE:          â‚¬ {totale,7:F2} â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘                                      â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘     ğŸ˜Š Grazie per averci scelto! ğŸ˜Š    â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘        Ardente &amp; Taramelli           â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•‘            5^Ci - 2025/26            â•‘&quot;</span>);</div>
<div class="line">        sb.AppendLine(<span class="stringliteral">&quot;â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// VISUALIZZAZIONE SCONTRINO</span></div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            sb.ToString(),</div>
<div class="line">            $<span class="stringliteral">&quot;ğŸ§¾ Scontrino Fiscale - Ordine #{idOrdineProgressivo:0000}&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Information</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (InvalidCastException ex)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// CONTROLLO 6: Gestione errori di cast</span></div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            $<span class="stringliteral">&quot;âš ï¸ Errore durante l&#39;elaborazione degli elementi dell&#39;ordine:\n\n&quot;</span> +</div>
<div class="line">            $<span class="stringliteral">&quot;âŒ {ex.Message}\n\n&quot;</span> +</div>
<div class="line">            <span class="stringliteral">&quot;â„¹ï¸ Alcuni elementi potrebbero non essere nel formato corretto.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;âŒ Errore Elaborazione&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Error</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line">    {</div>
<div class="line">        MessageBox.Show(</div>
<div class="line">            $<span class="stringliteral">&quot;âš ï¸ Si Ã¨ verificato un errore imprevisto durante la generazione dello scontrino:\n\n&quot;</span> +</div>
<div class="line">            $<span class="stringliteral">&quot;âŒ {ex.Message}\n\n&quot;</span> +</div>
<div class="line">            <span class="stringliteral">&quot;ğŸ“ Contattare l&#39;assistenza tecnica.&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;âŒ Errore Scontrino&quot;</span>,</div>
<div class="line">            MessageBoxButtons.OK,</div>
<div class="line">            MessageBoxIcon.Error</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md24"></a>
ğŸ“„ Esempio di Output Scontrino</h1>
<div class="fragment"><div class="line">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</div>
<div class="line">â•‘    ğŸ• PIZZERIA ARDENTE-TARAMELLI ğŸ•    â•‘</div>
<div class="line">â•‘           5^Ci - 2025/26              â•‘</div>
<div class="line">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</div>
<div class="line">â•‘  ğŸ“… Data: 15/01/2026                   â•‘</div>
<div class="line">â•‘  ğŸ• Ora:  14:30:25                      â•‘</div>
<div class="line">â•‘  ğŸ”¢ Ordine N.: 0001                 â•‘</div>
<div class="line">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</div>
<div class="line">â•‘  QTÃ€   DESCRIZIONE          IMPORTO  â•‘</div>
<div class="line">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</div>
<div class="line">â•‘  2x   Margherita           â‚¬   10.00 â•‘</div>
<div class="line">â•‘  1x   Capricciosa          â‚¬    8.00 â•‘</div>
<div class="line">â•‘  1x   Quattro formaggi     â‚¬    8.50 â•‘</div>
<div class="line">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</div>
<div class="line">â•‘  ğŸ’° TOTALE ORDINE:          â‚¬   26.50 â•‘</div>
<div class="line">â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£</div>
<div class="line">â•‘                                      â•‘</div>
<div class="line">â•‘     ğŸ˜Š Grazie per averci scelto! ğŸ˜Š    â•‘</div>
<div class="line">â•‘        Ardente &amp; Taramelli           â•‘</div>
<div class="line">â•‘            5^Ci - 2025/26            â•‘</div>
<div class="line">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md26"></a>
ğŸ“Š Logica di Calcolo</h1>
<h2><a class="anchor" id="autotoc_md27"></a>
Formula del Subtotale</h2>
<div class="fragment"><div class="line">Subtotale = QuantitÃ  Ã— Prezzo Unitario</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md28"></a>
Formula del Totale</h2>
<div class="fragment"><div class="line">Totale = Î£ (Subtotale di ogni tipo di pizza)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md29"></a>
Esempio pratico</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pizza   </th><th class="markdownTableHeadNone">QuantitÃ    </th><th class="markdownTableHeadNone">Prezzo Unit.   </th><th class="markdownTableHeadNone">Subtotale    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ğŸ• Margherita   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">â‚¬ 5.00   </td><td class="markdownTableBodyNone">â‚¬ 10.00    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ğŸ• Capricciosa   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">â‚¬ 8.00   </td><td class="markdownTableBodyNone">â‚¬ 8.00    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ğŸ• 4 Formaggi   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">â‚¬ 8.50   </td><td class="markdownTableBodyNone">â‚¬ 8.50    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>TOTALE</b>   </td><td class="markdownTableBodyNone"><b>4</b>   </td><td class="markdownTableBodyNone">-   </td><td class="markdownTableBodyNone"><b>â‚¬ 26.50</b>   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md31"></a>
ğŸ” Gestione Prezzi Mancanti</h1>
<p>Se una pizza <b>non Ã¨ presente nel listino</b>, viene applicato un <b>prezzo default di â‚¬ 6,00</b>.</p>
<div class="fragment"><div class="line">decimal prezzoUnitario;</div>
<div class="line"><span class="keywordflow">if</span> (listinoPrezzi.ContainsKey(nomePizza))</div>
<div class="line">{</div>
<div class="line">    prezzoUnitario = listinoPrezzi[nomePizza];</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// âš ï¸ Prezzo predefinito</span></div>
<div class="line">    prezzoUnitario = 6.00m;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ğŸ“ Log per debug</span></div>
<div class="line">    Debug.WriteLine($<span class="stringliteral">&quot;[WARNING] Prezzo non trovato per &#39;{nomePizza}&#39;&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md33"></a>
ğŸ¨ Caratteri ASCII Box-Drawing</h1>
<p>Lo scontrino utilizza caratteri <b>Unicode Box-Drawing</b> per creare il bordo:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Carattere   </th><th class="markdownTableHeadNone">Codice   </th><th class="markdownTableHeadNone">Uso    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">â•”   </td><td class="markdownTableBodyNone">U+2554   </td><td class="markdownTableBodyNone">Angolo alto sinistro    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">â•—   </td><td class="markdownTableBodyNone">U+2557   </td><td class="markdownTableBodyNone">Angolo alto destro    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">â•š   </td><td class="markdownTableBodyNone">U+255A   </td><td class="markdownTableBodyNone">Angolo basso sinistro    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">â•   </td><td class="markdownTableBodyNone">U+255D   </td><td class="markdownTableBodyNone">Angolo basso destro    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">â•‘   </td><td class="markdownTableBodyNone">U+2551   </td><td class="markdownTableBodyNone">Bordo verticale    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">â•   </td><td class="markdownTableBodyNone">U+2550   </td><td class="markdownTableBodyNone">Bordo orizzontale    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">â•    </td><td class="markdownTableBodyNone">U+2560   </td><td class="markdownTableBodyNone">T sinistra    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">â•£   </td><td class="markdownTableBodyNone">U+2563   </td><td class="markdownTableBodyNone">T destra   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md35"></a>
ğŸš¨ Gestione Errori</h1>
<h2><a class="anchor" id="autotoc_md36"></a>
Errore 1: Ordine Vuoto</h2>
<div class="fragment"><div class="line">ğŸ“‹ Nessun ordine presente per calcolare il conto.</div>
<div class="line"> </div>
<div class="line">ğŸ• Aggiungi almeno una pizza all&#39;ordine prima di richiedere lo scontrino.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md37"></a>
Errore 2: Listino Non Disponibile</h2>
<div class="fragment"><div class="line">âš ï¸ Errore: Listino prezzi non disponibile.</div>
<div class="line"> </div>
<div class="line">ğŸ“ Contattare l&#39;amministratore del sistema.</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md38"></a>
Errore 3: Elementi Non Validi</h2>
<div class="fragment"><div class="line">âš ï¸ L&#39;ordine contiene solo elementi non validi.</div>
<div class="line"> </div>
<div class="line">ğŸ—‘ï¸ Svuota l&#39;ordine e riprova.</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md40"></a>
ğŸ”„ Integrazione con Altri Componenti</h1>
<h2><a class="anchor" id="autotoc_md41"></a>
Dipendenze</h2>
<ul>
<li><code>Ordini_Lista</code> (ListBox): contiene le pizze ordinate</li>
<li><code>listinoPrezzi</code> (Dictionary): mappa pizza â†’ prezzo</li>
<li><code>idOrdineProgressivo</code> (int): numero progressivo dell'ordine</li>
</ul>
<h2><a class="anchor" id="autotoc_md42"></a>
Componenti correlati</h2>
<ul>
<li>ğŸ• <code>AggiungiPizza()</code>: aggiunge pizze all'ordine</li>
<li>ğŸ’¾ <code>SalvaStorico()</code>: salva l'ordine su file</li>
<li>ğŸ—‘ï¸ <code>SvuotaOrdine()</code>: pulisce l'ordine corrente</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md44"></a>
ğŸ‘¥ Credits</h1>
<p><b>Sviluppato da:</b> Ardente &amp; Taramelli <br  />
 <b>Classe:</b> 5^Ci <br  />
 <b>Anno Scolastico:</b> 2025/26 <br  />
 <b>Versione:</b> 1.1</p>
<hr  />
<blockquote class="doxtable">
<p>&zwj;ğŸ’¡ <b>Nota:</b> Questa funzione fa parte del sistema gestionale per pizzerie sviluppato come progetto scolastico. Lo scontrino generato Ã¨ a scopo dimostrativo e non ha valore fiscale legale. </p>
</blockquote>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generato da <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
